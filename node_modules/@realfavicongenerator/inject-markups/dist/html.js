"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.injectMarkupInHtmlHead = exports.DefaultRemovedMarkupCssSelectors = void 0;
const cheerio_1 = require("cheerio");
const pretty_1 = __importDefault(require("pretty"));
exports.DefaultRemovedMarkupCssSelectors = [
    'link[rel="mask-icon"]',
    'link[rel="shortcut icon"]',
    'link[rel="icon"]',
    'link[rel^="apple-touch-icon"]',
    'link[rel="manifest"]',
];
const injectMarkupInHtmlHead = (htmlCode, markupsToAdd, cssSelectorsOfMarkupsToRemove) => {
    // Inject the markups with cheerio
    const $ = (0, cheerio_1.load)(htmlCode);
    // Remove the specified markups
    cssSelectorsOfMarkupsToRemove.forEach((selector) => {
        $(selector).remove();
    });
    // Add the new markups
    markupsToAdd.forEach((markup) => {
        $('head').append(markup);
    });
    return (0, pretty_1.default)($.html());
};
exports.injectMarkupInHtmlHead = injectMarkupInHtmlHead;
